###
#  to run use
#     ruby -I ./lib -I ./test test/test_parse.rb


require 'helper'


class TestParse < Minitest::Test

def test_empty
    data_uri = "data:,"
    data = Calldata.parse_data( data_uri )
    assert_equal "text/plain", data.type
    assert_equal "", data.text
end

def test_text
    data_uri = "data:,foobar"
    data = Calldata.parse_data( data_uri )
    assert_equal "text/plain", data.type
    assert_equal "foobar",  data.text
end



def test_image

   # inscribe no. 0 (genesis!)
   data_uri =
    "data:image/jpeg;base64,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"

    data = Calldata.parse_data( data_uri )
    pp data

    assert_equal "image/jpeg", data.type
    data.write( "./tmp/0.jpeg" )
end





end # class TestParse